<%# Config %>
<% sl = exercise.sets.length - 1 %>
<% l = exercise.exercises.length - 1 %>
<%# Border %>
<% if e != el %>
  <% border = "bb b--light-gray" %>
<% else %>
  <% border = "" %>
<% end %>
<%# End %>
<article data-value="double" class="function-cb duration1 property-all o0 transform-tYm4 cf pv2 ph1 <%= border %>">
  <div class="relative fl w-10">
    <% exercise.exercises.each_with_index do |exe, i| %>
      <h1 class="ma0 mb0_5 roboto f1_125 fw5 black"><%= i + c %></h1>
      <% if i != l %>
        <div class="relative mb0_5 bg-gray" style="width: 1px; height: 2.35rem; left: 0.3rem;"></div>
      <% end %>
    <% end %>
  </div>
  <header class="fl w-90" style="margin-bottom: 1.5rem;">
    <% exercise.exercises.each_with_index do |exe, i| %>
      <%# Config %>
      <%# Exercise %>
      <% e = fetch_exercise exe %>
      <%# Spacing %>
      <% if i != l %>
        <% spacing = "mb2" %>
      <% else %>
        <% spacing = "" %>
      <% end %>
      <%# End %>
      <div class="<%= spacing %>">
        <div class="cf" style="margin-bottom: 0.25rem;">
          <a class="fl ma0 roboto f1_125 fw5 black bg-blue td-none" href="<%= e.source %>" target="_blank"><%= e.name %></a>
          <h1 class="fr ma0 roboto f1_125 fw5 black"><%= sl + 1 %> Supersets</h1>
        </div>
        <div class="cf">
          <h3 class="fl ma0 roboto f1 fw5 dark-gray"><%= e.target %> Exercise</h3>
          <h3 class="fr ma0 roboto f1 fw5 dark-gray"><%= exercise.rest %></h3>
        </div>
      </div>
    <% end %>
  </header>
  <div class="cf">
    <div class="fl w-10" style="height: 1px;"></div>
    <div class="relative fl w-90 inline-flex justify-between">
      <% exercise.sets.each_with_index do |set, s| %>
        <%# Config %>
        <% if s === 0 %>
          <% padding = "pr1" %>
        <% elsif s != sl && s != 0 %>
          <% padding = "ph1" %>
        <% elsif s === sl %>
          <% padding = "pl1" %>
        <% end %>
        <%# End %>
        <div class="z-1 <%= padding %> bg-white">
          <h2 class="ma0 roboto f2 fw5 black"><%= set %></h2>
          <p class="ma0 roboto f1 fw5 dark-gray">Set <%= s + 1 %></p>
        </div>
      <% end %>
    </div>
  </div>
</article>
